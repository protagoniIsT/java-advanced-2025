package info.kgeorgiy.java.advanced.crawler;

import org.junit.jupiter.api.Test;

import java.net.MalformedURLException;
import java.util.*;
import java.util.stream.Collectors;
import java.util.stream.Stream;

/**
 * Full tests for advanced version.
 *
 * @author Georgiy Korneev (kgeorgiy@kgeorgiy.info)
 */
public class AdvancedCrawlerTest extends HardCrawlerTest {
    private static final List<String> ALL_HOSTS = List.of(
            "0.0.0.0:8888",
            "1acreate.com",
            "1password.com",
            "2030itmo.tilda.ws",
            "360.yandex.ru",
            "3dtour.expo2017astana.com",
            "5100.ifmo.ru",
            "VK.company",
            "a.ya.ru",
            "aaronsw.jottit.com",
            "abboy.com",
            "abitlk.itmo.ru",
            "abra.ai",
            "academia.interfax.ru",
            "academia.stackexchange.com",
            "academy.yandex.ru",
            "accel.itmo.ru",
            "access42.net",
            "accessibe.com",
            "accessiblebydesign.co.uk",
            "accounts.google.com",
            "acexpert.ru",
            "acm.bsuir.by",
            "activ.kz",
            "admissions.sfu-kras.ru",
            "adoptium.net",
            "ads.reddit.com",
            "aduna.biz",
            "afisha.yandex.ru",
            "afs.github.io",
            "agog.org",
            "aimclub.github.io",
            "aituopen.astanait.edu.kz",
            "alabaster.readthedocs.io",
            "alexott.net",
            "alfasado.net",
            "alumni.ifmo.ru",
            "alumni.itmo.ru",
            "amaya-ua.ru",
            "amayaru.com",
            "ami.nstu.ru",
            "annevankesteren.nl",
            "anonyome.com",
            "ant.apache.org",
            "apc.astanait.edu.kz",
            "apeleg.com",
            "api.stackexchange.com",
            "apice.unibo.it",
            "appmetrica.yandex.ru",
            "aqniet.com",
            "archive.develooper.com",
            "archive.dstc.edu.au",
            "archive.xmlprague.cz",
            "archiveprogram.github.com",
            "arealvalidator.com",
            "arenda.yandex.ru",
            "argrath.github.io",
            "art-seo.com.ua",
            "aspirant.extech.ru",
            "astronomy.stackexchange.com",
            "atom.io",
            "atsu.edu.ge",
            "au.githubstatus.com",
            "audience.yandex.ru",
            "auth.w3.org",
            "auto.huawei.com",
            "auto.ru",
            "auto.yandex",
            "avito.tech",
            "awl.ifmo.ru",
            "awl.itmo.ru",
            "aws.amazon.com",
            "azure.microsoft.com",
            "badame.vse.cz",
            "bank.yandex.ru",
            "bars.itmo.ru",
            "bbs.huaweicloud.com",
            "be.itmo.ru",
            "beian.miit.gov.cn",
            "benetech.org",
            "benfrancis.github.io",
            "besiktasescortsitesi.com",
            "beylikduzuescortportal.com",
            "beyondlimitsfoundation.com",
            "bfo.com",
            "bicycles.stackexchange.com",
            "bitwarden.com",
            "blerify.com",
            "block.xyz",
            "blog.naver.com",
            "blog.whatfettle.com",
            "blog.whatwg.org",
            "blogs.microsoft.com",
            "bnovo.ru",
            "book.keybase.io",
            "books.ifmo.ru",
            "books.yandex.ru",
            "boost40.eu",
            "botaninvestments.com",
            "brave.com",
            "bsvblockchain.org",
            "bugs.debian.org",
            "bus.gov.ru",
            "business.drive.yandex.ru",
            "business.go.yandex",
            "business.market.yandex.ru",
            "business.tbank.ru",
            "buyukcekmecebul.com",
            "bytedance.com",
            "calbaptist.edu",
            "calendar.yandex.ru",
            "calls.vk.com",
            "callstack.com",
            "cambiumassessment.com",
            "caniuse.com",
            "canton.consulting",
            "career.yadro.com",
            "careers.ifmo.ru",
            "careers.yadro.com",
            "cdt.org",
            "celia.consumer.huawei.com",
            "centreforinclusivedesign.org.au",
            "centrsio.itmo.ru",
            "champin.net",
            "chapters.w3.org",
            "chat.stackoverflow.com",
            "check.theinfo.org",
            "chess.stackexchange.com",
            "clck.ru",
            "cleverthis.com",
            "cli.github.com",
            "cloud.yandex.com",
            "cloud.yandex.ru",
            "cloudsecurityalliance.org",
            "cn.itmo.ru",
            "code.visualstudio.com",
            "codeql.github.com",
            "codex.cs.yale.edu",
            "commission.europa.eu",
            "competition.intl.huaweicloud.com",
            "conferences.oreillynet.com",
            "confidentialcomputing.io",
            "connectingcredentials.org",
            "consensys.io",
            "console.huaweicloud.com",
            "consumer-img.huawei.com",
            "contests.fastforward.pro",
            "contract.design",
            "cookiedatabase.org",
            "copilot.github.trust.page",
            "courses.ifmo.ru",
            "covesa.global",
            "cpansearch.perl.org",
            "cr.yp.to",
            "creativecode.co.kr",
            "credreg.net",
            "criipto.com",
            "critacghana.com",
            "crookedtimber.org",
            "cside.dev",
            "cursive-ide.com",
            "cvs.gnome.org",
            "cy.linkedin.com",
            "danubetech.com",
            "data.stackexchange.com",
            "db.apache.org",
            "db.w3.org",
            "ddialliance.org",
            "deadlockempire.github.io",
            "dealspotr.com",
            "dec.sfu-kras.ru",
            "decentralyze.com",
            "demandprogress.org",
            "deronyan.com",
            "desktop.github.com",
            "desktop.telegram.org",
            "developer.github.com",
            "developers.google.com",
            "developers.technorati.com",
            "dfinity.org",
            "digilander.libero.it",
            "digital.gov.ru",
            "digitalisering.huawei.nl",
            "digitalseeds.de",
            "diploma-projects-front.onrender.com",
            "direct.yandex.ru",
            "directoffer.com",
            "discord.com",
            "discord.gg",
            "discuss.opensource.org",
            "dissovet.itmo.ru",
            "dl.acm.org",
            "dns.yandex.ru",
            "docs.microsoft.com",
            "docs.nextgraph.org",
            "docs.npmjs.com",
            "docutils.sourceforge.net",
            "dom.spec.whatwg.org",
            "dorward.me.uk",
            "dorward.uk",
            "dostavka.yandex.ru",
            "dreamlab.net",
            "dspa.org",
            "dtinit.org",
            "du.astanait.edu.kz",
            "duckduckgo.com",
            "dydra.com",
            "dydx.exchange",
            "dyne.org",
            "dzone.com",
            "e-campaign.huawei.com",
            "e.mail.ru",
            "e.sfu-kras.ru",
            "ebpaj.jp",
            "ebpf.io",
            "echonet.jp",
            "eda.yandex.ru",
            "edadeal.ru",
            "edition-w3.de",
            "edu.sfu-kras.ru",
            "egelections-2011.appspot.com",
            "ejudge.crimea.edu",
            "ekit.huawei.com",
            "electronics.stackexchange.com",
            "ell.stackexchange.com",
            "en.digst.dk",
            "en.unimib.it",
            "engineer.yadro.com",
            "enterprise.github.com",
            "ercim.eu",
            "es.itmo.ru",
            "es6-features.org",
            "escortavcilar.com",
            "ethereum.org",
            "ethz.ch",
            "eu.githubstatus.com",
            "europa.eu.int",
            "european-iot-pilots.eu",
            "event.astanait.edu.kz",
            "experience.tripster.ru",
            "extras.springer.com",
            "eyeo.com",
            "family.ifmo.ru",
            "fastly.com",
            "favelets.com",
            "fedoraproject.org",
            "feedvalidator.org",
            "fefudigitalschool.com",
            "fetch.spec.whatwg.org",
            "ffin.kz",
            "fidoalliance.org",
            "fiftyfootshadows.net",
            "florian.rivoal.net",
            "flux-g.com",
            "formulae.brew.sh",
            "forums.adobe.com",
            "forums.htmlhelp.com",
            "foundation.mozilla.org",
            "foundation.rust-lang.org",
            "fr.wikipedia.org",
            "francetranslations.com",
            "freenode.net",
            "frf.mipt.ru",
            "future.itmo.ru",
            "g200kg.github.io",
            "gardening.stackexchange.com",
            "gberman.narod.ru",
            "geekfeminism.fandom.com",
            "geex-arts.com",
            "german.stackexchange.com",
            "get.vitalsource.com",
            "getty.edu",
            "gg.gg",
            "ghcr.io",
            "ghec.github.trust.page",
            "github.careers",
            "github.community",
            "github.github.com",
            "githubuniverse.com",
            "gitlab.com",
            "gkorneev.moikrug.ru",
            "global.rakuten.com",
            "globalprivacycontrol.org",
            "go.adr.org",
            "go.opensource.org",
            "go.yandex",
            "goo.gl",
            "googlewebmastercentral.blogspot.com",
            "gosko.photo",
            "government.github.com",
            "gpuweb.github.io",
            "greggkellogg.net",
            "group.ntt",
            "groups.csail.mit.edu",
            "gsecurityguard.com",
            "gt.com.kw",
            "h0tk3y.com",
            "habrahabr.ru",
            "hackerone.com",
            "harshp.com",
            "hawl9000.github.io",
            "hellouniweb.com",
            "help.opera.com",
            "help.yandex.ru",
            "holopin.io",
            "home.unicode.org",
            "hropenstandards.org",
            "hsqldb.org",
            "html5.validator.nu",
            "html5apps-project.eu",
            "httpd.apache.org",
            "hugopeixoto.net",
            "hydromail.supelec-rennes.fr",
            "iabeurope.eu",
            "iabtechlab.com",
            "ibm.com",
            "icpc.baylor.edu",
            "icpc.msu.ru",
            "id.itmo.ru",
            "ietf.webdav.org",
            "ietfreport.isoc.org",
            "ifaa.org.cn",
            "ignite-retail.com",
            "iis.se",
            "ilecture.ifmo.ru",
            "illinois.edu",
            "imcs.dvfu.ru",
            "inamidst.com",
            "inclusionx.cn",
            "infomesh.net",
            "inforegulator.org.za",
            "inform.tmforum.org",
            "infra.spec.whatwg.org",
            "inmobiliariamyk.pe",
            "inria.hal.science",
            "inrupt.com",
            "instantview.telegram.org",
            "interledger.org",
            "intern.itmo.ru",
            "internet2.edu",
            "internship.vk.company",
            "intertwingly.net",
            "intl.huaweicloud.com",
            "intopia.digital",
            "istanbulbahcelievlerescort.com",
            "istanbulescortbeyza.com",
            "istanbulescortonline.com",
            "istanbulkucukcekmece.com",
            "isu.ifmo.ru",
            "itunes.apple.com",
            "jdc.huawei.com",
            "jetbrains.ru",
            "job.ifmo.ru",
            "job.itmo.ru",
            "joinmastodon.org",
            "journal.tinkoff.ru",
            "jprs.co.jp",
            "karmada.io",
            "kb.se",
            "kellogg-assoc.com",
            "kinopoisk.ru",
            "knoji.com",
            "knowbility.org",
            "kodigy.com",
            "kosmosimalina.zaczytani.org",
            "kp.org",
            "kronbars.itmo.ru",
            "kurrawong.ai",
            "kuula.co",
            "lakhta-hall.spb.ru",
            "languages.oup.com",
            "ldo.js.org",
            "learn.astanait.edu.kz",
            "learn.javascript.ru",
            "learn.microsoft.com",
            "learning.linkedin.com",
            "legreq.com",
            "leonardpzakimbunkerhillbridge.org",
            "lfaidata.foundation",
            "lib.ifmo.ru",
            "lib.itmo.ru",
            "libertybank.ge",
            "libraries.io",
            "linkedin.com",
            "linux.davecentral.com",
            "lists.opensource.org",
            "lists.xml.org",
            "liuxing3169.github.io",
            "localhost",
            "logicerror.com",
            "lr.news.itmo.ru",
            "lv7777.github.io",
            "m.online.itmo.ru",
            "macos.telegram.org",
            "mail-archives.apache.org",
            "mail.sfu-kras.ru",
            "mail.yandex.ru",
            "manning.com",
            "maps.yandex.ru",
            "mariadb.org",
            "market-delivery.yandex.ru",
            "market.yandex.ru",
            "marketplace.visualstudio.com",
            "math.stackexchange.com",
            "mathoverflow.net",
            "mattr.global",
            "mattsayar.com",
            "mem.co",
            "members.opensource.org",
            "merchants.yandex.ru",
            "mesur.io",
            "metaverse-standards.org",
            "metrika.yandex.ru",
            "mewe.com",
            "mgl.uw.hu",
            "minobrnauki.gov.ru",
            "mobile.yandex.ru",
            "mobiwebapp.eu",
            "moda.gov.tw",
            "moodle.astanait.edu.kz",
            "mootools.net",
            "movementforanopenweb.com",
            "movielabs.com",
            "movies.stackexchange.com",
            "mrcq2024.mrc.msk.ru",
            "msg-spb.ru",
            "multilingualweb.eu",
            "museum.ifmo.ru",
            "music.stackexchange.com",
            "music.yandex.ru",
            "my.sfu-kras.ru",
            "n.maps.yandex.ru",
            "nccr.itmo.ru",
            "nemolchi.tinkoff.ru",
            "neoflex.ru",
            "netcare.huawei.com",
            "news.ycombinator.com",
            "newscorp.com",
            "nexera.id",
            "nonprofits.github.com",
            "npoed.ru",
            "nstu.ru",
            "nsu.ru",
            "nti2035.ru",
            "nukoh.com",
            "o3de.org",
            "ofd.yandex.ru",
            "office.microsoft.com",
            "old.koalateam.com",
            "oniroproject.org",
            "opcfoundation.org",
            "open-stand.org",
            "open.edx.org",
            "openconnectivity.org",
            "opencontainers.org",
            "opendoors.itmo.ru",
            "openeducation.itmo.ru",
            "openedx.org",
            "openid.net",
            "openinfra.dev",
            "openjade.sourceforge.net",
            "openjsf.org",
            "openlookeng.io",
            "openmediaweb.eu",
            "opensource.guide",
            "opensource.net",
            "openssf.org",
            "opentrains.opencup.org",
            "openwallet.foundation",
            "openwebdocs.org",
            "optimus.itmo.ru",
            "optout.aboutads.info",
            "optout.networkadvertising.org",
            "orcid.org",
            "originator-profile.org",
            "outline-rocks.github.io",
            "p.ya.ru",
            "packages.debian.org",
            "pages.github.com",
            "pages.videotron.com",
            "palette.ercim.org",
            "partner.market.yandex.ru",
            "partners.tbank.ru",
            "partners.yandex.ru",
            "pay.yandex.ru",
            "pcms.itmo.ru",
            "pepelsbey.net",
            "perldoc.perl.org",
            "perltidy.sourceforge.net",
            "philarcher.org",
            "physics.stackexchange.com",
            "pi.pe",
            "pinboard.in",
            "pinely.tilda.ws",
            "pinterest.com",
            "platform.html5.org",
            "player.streamfizz.live",
            "plugins.jetbrains.com",
            "plus.google.com",
            "plus.yandex.ru",
            "pmall.huawei.com",
            "polleres.net",
            "pompake.com",
            "portal-intl.huaweicloud.com",
            "pp.yadro.com",
            "practicum.yandex.ru",
            "press.stripe.com",
            "pressable.com",
            "primelife.ercim.eu",
            "privacy.stripe.com",
            "privacycg.github.io",
            "promokod.tbank.ru",
            "proton.me",
            "pti.icann.org",
            "pytorch.org",
            "pyx.io",
            "qblog.aaronsw.com",
            "qtap.kz",
            "qualibooth.com",
            "radar.metrika.yandex",
            "rakuten.com",
            "raptive.com",
            "rdfig.xmlhack.com",
            "realty.yandex.ru",
            "redditblog.com",
            "redditinc.com",
            "referendum2012.elections.eg",
            "research.sfu-kras.ru",
            "reviews.yandex.ru",
            "riscv.org",
            "rnd-supportv8.huawei.com",
            "rpg.stackexchange.com",
            "rt.cpan.org",
            "rumarchive.com",
            "saaresearch.github.io",
            "samsung.com",
            "scholar.google.ru",
            "scs.huawei.com",
            "sebastienguillon.com",
            "secrets.tinkoff.ru",
            "securitybulletin.huawei.com",
            "securitylab.github.com",
            "seedsforthefuture.com.ua",
            "seedsforthefuture.pl",
            "semanticweb.com",
            "services.github.com",
            "seu.edu.ge",
            "sfpgmr.github.io",
            "shedevrum.ai",
            "sherdim.ru",
            "shop.github.com",
            "show.itmo.ru",
            "shwr.me",
            "sierkbornemann.de",
            "sigweb.org",
            "sintonika.ru",
            "sist.astanait.edu.kz",
            "site.yandex.ru",
            "siteimprove.com",
            "sivira.co",
            "sj.astanait.edu.kz",
            "slack.github.com",
            "sliphub.choum.net",
            "smena.yandex.ru",
            "snakenation.co",
            "social.opensource.org",
            "socialhub.activitypub.rocks",
            "socialimpact.github.com",
            "socialwebfoundation.org",
            "sodafoundation.io",
            "soika.readthedocs.io",
            "sourcecraft.dev",
            "sovcombank.ru",
            "sp.yadro.com",
            "sparna.fr",
            "spec.commonmark.org",
            "spec.m-ld.org",
            "spec.piraruco.com",
            "speced.github.io",
            "spectral.tech",
            "sphericalcowconsulting.com",
            "split.yandex.ru",
            "sport.sfu-kras.ru",
            "springercampus.iversity.org",
            "spruceid.com",
            "ssimeetupkorea.github.io",
            "sso.openedu.ru",
            "stackoverflowteams.com",
            "standards.ieee.org",
            "start.ifmo.ru",
            "startinblox.com",
            "startups.github.com",
            "stats.stackexchange.com",
            "status.service.huaweicloud.com",
            "status.stripe.com",
            "status.tbank.ru",
            "std.dkuug.dk",
            "store.itmo.ru",
            "stripesessions.com",
            "student-conference.astanait.edu.kz",
            "students.superjob.ru",
            "studybuddy.iversity.org",
            "support.developer.huaweicloud.com",
            "support.iversity.org",
            "support.microsoft.com",
            "support.stripe.com",
            "surveys.yandex.ru",
            "svgees.us",
            "syntax.whattf.org",
            "t-technologies.ru",
            "tasks.yandex.ru",
            "tc39.github.io",
            "team.ifmo.ru",
            "team.itmo.ru",
            "tech.yandex.ru",
            "techship.se",
            "telemost.yandex.ru",
            "tetralogical.com",
            "thebaffler.com",
            "theclearinghouse.org",
            "thefigtrees.net",
            "theinfo.org",
            "theodi.org",
            "thinktecture.com",
            "tilda.cc",
            "tilda.ru",
            "timus.online",
            "tink.uk",
            "tinycloud.xyz",
            "tinyurl.com",
            "tlumaczenia-angielski.info",
            "tobie.github.io",
            "tomcat.apache.org",
            "tpblock.cn",
            "tradeverifyd.com",
            "translate.google.com",
            "translate.yandex.ru",
            "translated-did-core.github.io",
            "translations.telegram.org",
            "travel.stackexchange.com",
            "trinsic.id",
            "tt.itmo.ru",
            "tutorials.jenkov.com",
            "tv.yandex.ru",
            "ufxtract.com",
            "unidraw.io",
            "uniportal-beta.huawei.com",
            "univ-cotedazur.eu",
            "usablenet.com",
            "uslugi.yandex.ru",
            "uz.kursiv.media",
            "valet.htmlhelp.com",
            "validator.nu",
            "ver.id",
            "vfs.edu",
            "vi.ie",
            "visualstudio.microsoft.com",
            "vocab.noeldemartin.com",
            "vygoda.yandex.ru",
            "w3c-beihang.github.io",
            "w3c-html-ig-zh.github.io",
            "w3c.github.com",
            "w3c.hu",
            "w3c.wholetrans.org",
            "w3ccommunity.slack.com",
            "w3cping.github.io",
            "w3cx.org",
            "w3m.huawei.com",
            "wa.me",
            "waic.jp",
            "wam.inrialpes.fr",
            "warmdev.com",
            "washitake.com",
            "wayback.archive.org",
            "wcap.jp",
            "web-platform-dx.github.io",
            "web.mit.edu",
            "webbluetoothcg.github.io",
            "webmachinelearning.github.io",
            "webmaster.yandex.ru",
            "webpy.org",
            "webrave.ru",
            "weibo.com",
            "weiknow.gts.huawei.com",
            "wellarchitected.github.com",
            "whatfettle.com",
            "whatfix.com",
            "whereby.com",
            "wicg.github.io",
            "wiki.openjdk.org",
            "wiki.svg.org",
            "wikimediafoundation.org",
            "windows.microsoft.com",
            "wordpress.com",
            "wordstat.yandex.ru",
            "workplace.stackexchange.com",
            "worldbuilding.stackexchange.com",
            "worldfinals.icpc.global",
            "wpt.fyi",
            "wpt.live",
            "www-1.ibm.com",
            "www-futurs.inria.fr",
            "www-ihm.lri.fr",
            "www-rocq.inria.fr",
            "www.360.cn",
            "www.456bereastreet.com",
            "www.access-company.com",
            "www.accessibility.nl",
            "www.accessibility.org.au",
            "www.accordproject.org",
            "www.adaptcentre.ie",
            "www.adr.org",
            "www.adyen.com",
            "www.affinidi.com",
            "www.agfa.com",
            "www.agid.gov.it",
            "www.aib.it",
            "www.aioti.eu",
            "www.airbnb.com",
            "www.akamai.com",
            "www.alacam.org",
            "www.alanyaescorto.com",
            "www.alecso.org",
            "www.alibabagroup.com",
            "www.amazon.com",
            "www.americanexpress.com",
            "www.amiga.ultranet.ru",
            "www.antgroup.com",
            "www.antlr.org",
            "www.apple.com",
            "www.archive.org",
            "www.arib.or.jp",
            "www.arm.com",
            "www.ashedryden.com",
            "www.asu.edu",
            "www.atasehirescortlari.com",
            "www.atia.org",
            "www.atsc.org",
            "www.att.com",
            "www.audioeye.com",
            "www.autodesk.com",
            "www.badgealliance.org",
            "www.baeldung.com",
            "www.baidu.com",
            "www.bankofamerica.com",
            "www.barrierbreak.com",
            "www.bbc.co.uk",
            "www.beian.gov.cn",
            "www.benevity.com",
            "www.binance.com",
            "www.bisg.org",
            "www.blissymbolics.org",
            "www.bloomberg.com",
            "www.bocoup.com",
            "www.boutell.com",
            "www.braemacca.com",
            "www.browsersdoc.org",
            "www.buaa.edu.cn",
            "www.bull.com",
            "www.bull.fr",
            "www.bvdw.org",
            "www.cablelabs.com",
            "www.caict.ac.cn",
            "www.canon.com",
            "www.capitalone.com",
            "www.cas.cn",
            "www.cdn-tinkoff.ru",
            "www.cdrom.com",
            "www.cen.eu",
            "www.cenorm.be",
            "www.cern.ch",
            "www.cgi.br",
            "www.charlesriverconservancy.org",
            "www.chinamobileltd.com",
            "www.circle.ch",
            "www.cisco.com",
            "www.cloudflare.com",
            "www.cncf.io",
            "www.codenet.ru",
            "www.codexexempla.org",
            "www.collegeboard.org",
            "www.color.org",
            "www.columbia.edu",
            "www.comcast.com",
            "www.commonapproach.org",
            "www.compose-project.eu",
            "www.compunetix.com",
            "www.conexxus.org",
            "www.consilium.europa.eu",
            "www.consystem.it",
            "www.continuaalliance.org",
            "www.copyright.gov",
            "www.crawfordtech.com",
            "www.criteo.com",
            "www.crockford.com",
            "www.cs.otago.ac.nz",
            "www.cs.ucf.edu",
            "www.csi.map.es",
            "www.cta.tech",
            "www.cvshealth.com",
            "www.cwi.nl",
            "www.daily.co",
            "www.dappworks.cn",
            "www.datadoghq.com",
            "www.dcarlisle.demon.co.uk",
            "www.deque.com",
            "www.design-inc.jp",
            "www.dfki.de",
            "www.dgp.toronto.edu",
            "www.dhs.gov",
            "www.digitalbazaar.com",
            "www.digitalpolicy.gov.hk",
            "www.dingdao.com",
            "www.disa.mil",
            "www.discover.com",
            "www.dolby.com",
            "www.dpdk.org",
            "www.dpublishing.org.tw",
            "www.dtg.org.uk",
            "www.dynatrace.com",
            "www.e-disclosure.ru",
            "www.eclass.eu",
            "www.eclipse.org",
            "www.ecomback.com",
            "www.economy.gov.ru",
            "www.ecp.fr",
            "www.ed.ac.uk",
            "www.edf-feph.org",
            "www.edrlab.org",
            "www.egroups.com",
            "www.elte.hu",
            "www.emi.ac.ma",
            "www.emse.fr",
            "www.emvco.com",
            "www.entersekt.com",
            "www.ercim.org",
            "www.ericsson.com",
            "www.esp.sn",
            "www.eswincomputing.com",
            "www.etri.re.kr",
            "www.etsi.org",
            "www.eurocomposant.fr",
            "www.f-interop.eu",
            "www.fabasoft.com",
            "www.fantasyescortblogs.com",
            "www.fapjunk.com",
            "www.fastcompany.com",
            "www.few.vu.nl",
            "www.ffzg.hr",
            "www.fime.com",
            "www.finanznachrichten.de",
            "www.findmail.com",
            "www.finogeeks.com",
            "www.firebirdsql.org",
            "www.fondazionelia.org",
            "www.forbes.ru",
            "www.fraunhofer.de",
            "www.ftl.co.jp",
            "www.fujitsu.com",
            "www.fullhdfilmizlesene.de",
            "www.fundacionctic.org",
            "www.futurewei.com",
            "www.fzi.de",
            "www.g3ict.org",
            "www.geonovum.nl",
            "www.github.careers",
            "www.github.com",
            "www.global.jcb",
            "www.gnome.org",
            "www.google.ru",
            "www.gooroomee.com",
            "www.gov.spb.ru",
            "www.gov.uk",
            "www.grackledocs.com",
            "www.graphviz.org",
            "www.grscale.com",
            "www.gs1.org",
            "www.gsm.org",
            "www.haitaichina.com",
            "www.harmonyos.com",
            "www.hbz-nrw.de",
            "www.hitachi.com",
            "www.hivemq.com",
            "www.hkbu.org.hk",
            "www.hp.com",
            "www.hpl.hp.co.uk",
            "www.htmlhelp.org",
            "www.huawei-studie.de",
            "www.huawei.eu",
            "www.huftis.org",
            "www.humansecurity.com",
            "www.huobi.com",
            "www.hut.fi",
            "www.hwg.org",
            "www.hyperledger.org",
            "www.i3a.org",
            "www.icode.astanait.edu.kz",
            "www.ics.forth.gr",
            "www.identity.org",
            "www.idnow.io",
            "www.iec.ch",
            "www.ifsic.univ-rennes1.fr",
            "www.igalia.com",
            "www.imc.org",
            "www.imec-int.com",
            "www.imsglobal.org",
            "www.imt.fr",
            "www.indeed.com",
            "www.industrialinternetconsortium.org",
            "www.informit.com",
            "www.inrialpes.fr",
            "www.insa-lyon.fr",
            "www.insight-centre.org",
            "www.inswave.com",
            "www.intel.com",
            "www.internetacademy.jp",
            "www.iptvforum.jp",
            "www.iri.co.jp",
            "www.irt.org",
            "www.is-thought.co.uk",
            "www.iso20022.org",
            "www.itscj.ipsj.or.jp",
            "www.iusmentis.com",
            "www.ivan-herman.name",
            "www.jamsadr.com",
            "www.java2s.com",
            "www.jetbrains.com",
            "www.jibbering.com",
            "www.jpeg.org",
            "www.jrebel.com",
            "www.json.org",
            "www.jwz.org",
            "www.kadikoyportal.com",
            "www.kadokawa.co.jp",
            "www.kartalescort.com",
            "www.kcl.ac.uk",
            "www.kddi.com",
            "www.keti.re.kr",
            "www.kevel.com",
            "www.khronos.org",
            "www.kit.hi-ho.ne.jp",
            "www.kodansha.co.jp",
            "www.kosek.cz",
            "www.kucoin.com",
            "www.kwacc.or.kr",
            "www.lacot.org",
            "www.lbl.gov",
            "www.lcs.mit.edu",
            "www.leidenuniv.nl",
            "www.lenovo.com",
            "www.let.rug.nl",
            "www.levelaccess.com",
            "www.lfedge.org",
            "www.lfnetworking.org",
            "www.lge.com",
            "www.linario.org",
            "www.linux.it",
            "www.linuxfoundation.org",
            "www.loc.gov",
            "www.logius.nl",
            "www.loongson.cn",
            "www.lseg.com",
            "www.lunarg.com",
            "www.lycorp.co.jp",
            "www.m2mgermany.de",
            "www.mada.org.qa",
            "www.magicleap.com",
            "www.magnite.com",
            "www.maltepescort.com",
            "www.marisabr.my.proz.com",
            "www.markgaither.com",
            "www.mastercard.us",
            "www.mavennet.com",
            "www.mc-technologies.net",
            "www.mediado.jp",
            "www.mediawiki.org",
            "www.meedan.com",
            "www.memect.cn",
            "www.merchantadvisorygroup.org",
            "www.mersinturkocagi.org",
            "www.meta.com",
            "www.metadataworkinggroup.org",
            "www.metalevel.at",
            "www.methods.co.nz",
            "www.meyerweb.com",
            "www.mind-to-mind.com",
            "www.mindswap.org",
            "www.minobrnauki.gov.ru",
            "www.mit.edu",
            "www.mitre.org",
            "www.mitsubishielectric.com",
            "www.mitsue.co.jp",
            "www.monotype.com",
            "www.movielabs.com",
            "www.navyfederal.org",
            "www.ncsc.gov.uk",
            "www.nec.com",
            "www.netcetera.com",
            "www.netflix.com",
            "www.netsurf.org",
            "www.newmuseum.org",
            "www.newphoria.co.jp",
            "www.nextroll.com",
            "www.nhk.or.jp",
            "www.nia.or.kr",
            "www.ninebynine.org",
            "www.nist.gov",
            "www.nju.edu.cn",
            "www.noknok.com",
            "www.nomensa.com",
            "www.novotech.com",
            "www.nrcan.gc.ca",
            "www.nsl.com",
            "www.nsu.ru",
            "www.ntt.co.jp",
            "www.nvidia.com",
            "www.nytimes.com",
            "www.objectdb.com",
            "www.obqo.de",
            "www.oecd.org",
            "www.ogc.org",
            "www.ogomes.com",
            "www.ohchr.org",
            "www.oiste.org",
            "www.okex.com",
            "www.okta.com",
            "www.olymp.krsu.edu.kg",
            "www.olymp.nstu.ru",
            "www.onem2m.org",
            "www.ontotext.com",
            "www.open.ac.uk",
            "www.openactive.io",
            "www.openatom.org",
            "www.openchainproject.org",
            "www.opengeospatial.org",
            "www.openhwgroup.org",
            "www.openinventionnetwork.com",
            "www.openlinksw.com",
            "www.openmath.org",
            "www.openmobilealliance.org",
            "www.openrdf.org",
            "www.openwave.com",
            "www.openx.com",
            "www.operasouthwest.pwp.blueyonder.co.uk",
            "www.opikanoba.org",
            "www.osservatoriosullacomunicazione.com",
            "www.ow2.org",
            "www.owasp.org",
            "www.ox.ac.uk",
            "www.paoli.cz",
            "www.paramount.tech",
            "www.perl.org",
            "www.perlcritic.org",
            "www.pesc.org",
            "www.php.net",
            "www.pingidentity.com",
            "www.piter.com",
            "www.play.co",
            "www.plethora.net",
            "www.powermapper.com",
            "www.princexml.com",
            "www.privacyshield.gov",
            "www.profium.com",
            "www.qualcomm.com",
            "www.randasolutions.com",
            "www.red-gate.com",
            "www.resbalo.com",
            "www.rnib.org.uk",
            "www.ruby-lang.org",
            "www.rumvision.com",
            "www.rusedit.com",
            "www.salesforce.com",
            "www.samsung.com",
            "www.sap.com",
            "www.scanti.com",
            "www.sciam.com",
            "www.seobuzzinternetmarketing.com",
            "www.serenoa-fp7.eu",
            "www.sfu-kras.ru",
            "www.sharingeconomy.kr",
            "www.shogakukan.co.jp",
            "www.shopify.com",
            "www.shueisha.co.jp",
            "www.siaa.org.cn",
            "www.siemens.com",
            "www.silica.com",
            "www.skynettechnologies.com",
            "www.skyzyx.com",
            "www.smpte.org",
            "www.snap.com",
            "www.sodafoundation.io",
            "www.softbank.jp",
            "www.softwarestudio.org",
            "www.sony.com",
            "www.specref.org",
            "www.sphinx-doc.org",
            "www.sprind.org",
            "www.stanford.edu",
            "www.stonybrook.edu",
            "www.surf.nl",
            "www.swi-prolog.org",
            "www.switchchord.com",
            "www.symbol.ru",
            "www.sziit.edu.cn",
            "www.sztaki.hu",
            "www.tcd.ie",
            "www.tcx.se",
            "www.tec.ac.cr",
            "www.tech.gov.sg",
            "www.tei-c.org",
            "www.tencent.com",
            "www.testfeed.net",
            "www.thaiamaya.com",
            "www.thaiopensource.com",
            "www.thetradedesk.com",
            "www.thingsentertainment.net",
            "www.thomsonreuters.com",
            "www.tidyp.com",
            "www.tinkoff.ru",
            "www.tlumaczenia-angielski.info",
            "www.topquadrant.com",
            "www.toshiba.com",
            "www.toutiao.com",
            "www.tpgi.com",
            "www.traficom.fi",
            "www.treasury.gov",
            "www.tsia.com",
            "www.tta.or.kr",
            "www.tut.fi",
            "www.twitch.tv",
            "www.twitter.com",
            "www.uac.edu.au",
            "www.un.org",
            "www.unc.edu",
            "www.understood.org",
            "www.unesco.org",
            "www.unitedhealthgroup.com",
            "www.univ-jfc.fr",
            "www.univ-lyon1.fr",
            "www.unixreview.com",
            "www.upm.es",
            "www.uspaymentsforum.org",
            "www.ustream.tv",
            "www.validome.org",
            "www.verisigninc.com",
            "www.vfmd.org",
            "www.vidos.id",
            "www.ville-rennes.fr",
            "www.visa.com",
            "www.visionaustralia.org.au",
            "www.vlaanderen.be",
            "www.voicexml.org",
            "www.voyager.co.jp",
            "www.vre4eic.eu",
            "www.vxmlitalia.com",
            "www.w3-hi.org",
            "www.w3c-by.com",
            "www.w3china.org",
            "www.washingtonpost.com",
            "www.wdig.com",
            "www.webdino.org",
            "www.webfoundation.org",
            "www.webinos.org",
            "www.webreview.com",
            "www.websitedev.de",
            "www.weissta.org",
            "www.wenning.org",
            "www.wiley.com",
            "www.wiris.com",
            "www.wix.com",
            "www.worddb.com",
            "www.workerscompensationshop.com",
            "www.wu.ac.at",
            "www.xrce.xerox.com",
            "www.yahooinc.com",
            "www.yandex.kz",
            "www.youronlinechoices.com",
            "www.yzjdigitalfinance.com",
            "www.zaragoza.es",
            "www.zhihu.com",
            "www.ziiot.org.cn",
            "www.zju.edu.cn",
            "www.zongoo.com",
            "www.zoom.us",
            "xfq.github.io",
            "xml.apache.org",
            "xml.ascc.net",
            "xml1p1.w3china.org",
            "xmlsoft.org",
            "xrdna.io",
            "xtech06.usefulinc.com",
            "yandex.com",
            "yaso.is",
            "yios.free.fr",
            "yoast.com",
            "youradchoices.ca",
            "youtu.be",
            "yoyodesign.org",
            "yubico.com",
            "yuujiso.github.io",
            "zapravki.yandex.ru",
            "zazuko.com",
            "zen.yandex.ru",
            "zeroturnaround.com",
            "zoom.us",
            "zvtm.sourceforge.net",
            "about.validator.nu",
            "aim.club",
            "aka.ms",
            "archive.boston.com",
            "avatars.githubusercontent.com",
            "blog.klipse.tech",
            "browser.yandex.ru",
            "business.yandex.ru",
            "career.avito.com",
            "cgi.w3.org",
            "consumer-tkb.huawei.com",
            "contest.cpfed.kz",
            "daringfireball.net",
            "dashboard.stripe.com",
            "dataprotocols.org",
            "desenaviegas.com",
            "dpublishing.github.io",
            "dstorez.com",
            "edu.huaweicloud.com",
            "education.github.com",
            "education.tbank.ru",
            "education.yandex.ru",
            "ege.hse.ru",
            "electronjs.org",
            "en.wikibooks.org",
            "esw.w3.org",
            "ev.buaa.edu.cn",
            "family.itmo.ru",
            "fantasai.inkedblade.net",
            "fellowship.itmo.ru",
            "forums.developer.huawei.com",
            "geekfeminism.wikia.org",
            "genberm.narod.ru",
            "git-scm.com",
            "greentech.itmo.ru",
            "gregshin.pe.kr",
            "habilis.net",
            "habr.com",
            "help.github.com",
            "hermeneutics.stackexchange.com",
            "html.spec.whatwg.org",
            "huawei-schweiz-events.ch",
            "huawei.ru",
            "hypothes.is",
            "icpc.sgu.ru",
            "ir.freedomholdingcorp.com",
            "islod.obrnadzor.gov.ru",
            "isoc.org",
            "isotc.iso.org",
            "itmo.events",
            "japan-daisy-consortium.github.io",
            "jcp.org",
            "kmu.itmo.ru",
            "koala.ilog.fr",
            "labs.w3.org",
            "lavka.yandex.ru",
            "lists.osafoundation.org",
            "lists.whatwg.org",
            "lukasjhan.github.io",
            "m.vmall.com",
            "maps.app.goo.gl",
            "marketplace.stripe.com",
            "mathematica.stackexchange.com",
            "maujor.com",
            "mega.itmo.ru",
            "meta.stackexchange.com",
            "momdo.s35.xrea.com",
            "mosiur.org",
            "nlnet.nl",
            "odrljin.eu",
            "official.contest.yandex.com",
            "olymp.krsu.edu.kg",
            "openjdk.org",
            "partner-intl.huaweicloud.com",
            "puzzling.stackexchange.com",
            "r12a.github.io",
            "rasp.yandex.ru",
            "rating.a-ai.ru",
            "raw.githubusercontent.com",
            "relaxng.org",
            "schneegans.de",
            "services.w3.org",
            "shebang.pl",
            "sherdim.rsu.ru",
            "simile.mit.edu",
            "skills.github.com",
            "slipshow.readthedocs.io",
            "software.opensuse.org",
            "solidproject.org",
            "stars.itmo.ru",
            "subscriptions.statuspage.io",
            "support.apple.com",
            "support.mozilla.org",
            "support.reddithelp.com",
            "taxi.yandex.ru",
            "team.vk.company",
            "testthewebforward.org",
            "tidy.sourceforge.net",
            "unicode.org",
            "valet.webthing.com",
            "validator.github.io",
            "w3.org",
            "w4ard.eplusx.net",
            "webchat.freenode.net",
            "webirc.w3.org",
            "wide-web.org",
            "wiki--travel.com",
            "wiki.oreillynet.com",
            "wiki.whatwg.org",
            "www.1spbgmu.ru",
            "www.amzi.com",
            "www.artima.com",
            "www.artsacademy.ru",
            "www.boost.org",
            "www.braveclojure.com",
            "www.cesi.cn",
            "www.chinaw3c.org",
            "www.csail.mit.edu",
            "www.daisy.org",
            "www.dataprivacyframework.gov",
            "www.dialogika.de",
            "www.diodati.org",
            "www.electronjs.org",
            "www.ercim.eu",
            "www.faqs.org",
            "www.fstc.org",
            "www.hpl.hp.com",
            "www.idm.ru",
            "www.internetac.org",
            "www.intgovforum.org",
            "www.iptc.org",
            "www.isoc.org.il",
            "www.ivan-herman.net",
            "www.ltg.ed.ac.uk",
            "www.lucagabriele.net",
            "www.mozilla.org",
            "www.mysql.com",
            "www.nationalarchives.gov.uk",
            "www.oasis-open.org",
            "www.omg.org",
            "www.opensource.org",
            "www.opera.com",
            "www.paypal.com",
            "www.polytech.unice.fr",
            "www.python.org",
            "www.quotemedia.com",
            "www.research.att.com",
            "www.rfc-editor.org",
            "www.robertoscano.info",
            "www.semantic-mediawiki.org",
            "www.serblingva.com",
            "www.shanghai.ws",
            "www.sqlite.org",
            "www.tech4city.sg",
            "www.tiktok.com",
            "www.timeanddate.com",
            "www.uschamberfoundation.org",
            "www.web3d.org",
            "www.webdav.org",
            "www.webometrics.info",
            "www.webstandards.org",
            "www.williamspublishing.com",
            "www.ya.ru",
            "www.yggdrasil.com",
            "xinsheng.huawei.com",
            "yandex.cloud",
            "activity.huaweicloud.com",
            "appgallery.huawei.com",
            "apps.apple.com",
            "article.gmane.org",
            "auth.huaweicloud.com",
            "bjoern.hoehrmann.de",
            "bugzilla.validator.nu",
            "choum.net",
            "clojure.org",
            "cn.ifmo.ru",
            "cwe.mitre.org",
            "datatracker.ietf.org",
            "developer.mozilla.org",
            "docs.yadro.com",
            "dublincore.org",
            "edition-w3c.de",
            "en.ifmo.ru",
            "eur-lex.europa.eu",
            "id.yandex.ru",
            "info.support.huawei.com",
            "instagram.com",
            "itscj.ipsj.or.jp",
            "lacot.org",
            "media.w3.org",
            "metacpan.org",
            "moscow.nerc.icpc.global",
            "play.google.com",
            "policies.google.com",
            "purl.org",
            "qa-dev.w3.org",
            "rationalwiki.org",
            "reg.huaweicloud.com",
            "schema.org",
            "shop.tbank.ru",
            "stackexchange.com",
            "support.google.com",
            "tantek.com",
            "w3c.social",
            "www.acesso.umic.pt",
            "www.apache.org",
            "www.gartner.com",
            "www.hikunpeng.com",
            "www.ibm.com",
            "www.itmo.ru",
            "www.keio.ac.jp",
            "www.npmjs.com",
            "www.vk.com",
            "www.vmall.com",
            "www.w3c.es",
            "www.w3c.it",
            "yandex.kz",
            "abit.ifmo.ru",
            "alberblanc.com",
            "alltron.ch",
            "codeforces.com",
            "gitee.com",
            "html.conclase.net",
            "meiert.com",
            "meta.stackoverflow.com",
            "msugai.fc2web.com",
            "ntcontest.ru",
            "olymp.itmo.ru",
            "opengemini.org",
            "passport.yandex.ru",
            "podziemie.net",
            "redirect.appmetrica.yandex.com",
            "skos.um.es",
            "sourceforge.net",
            "sports.globalearn.kz",
            "status.w3.org",
            "uniportal.huawei.com",
            "www.antyspam.pl",
            "www.avito.ru",
            "www.dkg.it",
            "www.iajapan.org",
            "www.iso.ch",
            "www.lri.fr",
            "www.nmda.or.jp",
            "www.springernature.com",
            "www.tibbe-online.de",
            "www.webthing.com",
            "www.xml.se",
            "x.com",
            "zh.transwiki.org"
    );

    private static final List<String> PARTS = ALL_HOSTS.stream()
            .flatMap(host -> Arrays.stream(host.split("\\.")))
            .distinct()
            .toList();

    public AdvancedCrawlerTest() {
        super(NewEasyCrawlerTest::testTask);
    }

    @Test
    public void test50_singleHost() {
        test("https://itmo.ru", 2, List.of("en.itmo.ru"));
    }

    @Test
    public void test51_otherHost() {
        test("https://itmo.ru", 10, List.of("vk.com"));
        test("https://itmo.ru", 10, List.of("abit.itmo.ru"));
    }

    @Test
    public void test52_multiHosts() {
        test("http://www.kgeorgiy.info", 10, List.of("ru.wikipedia.org", "github.com", "gitea.io"));
    }

    @Test
    public void test53_allHosts() {
        test("http://www.kgeorgiy.info", 5, ALL_HOSTS);
    }

    @Test
    public void test54_extraHosts() {
        final Random random = new Random(8735083475083705845L);
        final List<String> hosts = Stream.concat(
                        ALL_HOSTS.stream(),
                        Stream.generate(() -> randomPart(random) + "." + randomPart(random)).limit(10_000)
                )
                .sorted()
                .toList();
        test("http://www.kgeorgiy.info", 5, hosts);
    }

    private static String randomPart(final Random random) {
        return PARTS.get(random.nextInt(PARTS.size()));
    }

    @Test
    public void test55_megaHosts() {
        test("http://www.kgeorgiy.info", 10, Collections.nCopies(1 << 27, "docs.oracle.com"));
    }

    private static void test(final String start, final int depth, final List<String> hosts) {
        final Set<String> set = hosts.stream().collect(Collectors.toUnmodifiableSet());
        new CrawlerTask(start, depth, UNLIMITED, UNLIMITED, UNLIMITED, 0, 0).test(
                AdvancedCrawler.class,
                crawler -> crawler.advancedDownload(start, depth, hosts),
                url -> {
                    try {
                        return !set.contains(URLUtils.getHost(url));
                    } catch (final MalformedURLException e) {
                        return false;
                    }
                }
        );
    }
}
